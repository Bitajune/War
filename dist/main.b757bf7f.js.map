{"version":3,"sources":["main.js"],"names":["playerResults","cpuResults","playerScore","cpuScore","currentPlayerCard","currentCpuCard","pCard","cCard","modalMessage","deck","value","image","playerWin","cpuWin","playerCards","cpuCards","playersWarCards","cpuWarCards","whipLash","Audio","pScore","document","querySelector","pCardsLeft","pTurnsWon","cScore","cCardsLeft","cTurnsWon","button","pImg","cImg","flipCards","querySelectorAll","initialize","gameDeck","shuffleCards","splice","Math","ceil","length","keepScore","render","src","flipCard","innerHTML","j","x","i","floor","random","deal","play","disabled","pop","checkForWin","setTimeout","degNum","cards","style","transform","winRound","loseRound","tieWar","unshift","modal","push","tieCardsFlip","gameWon","getElementById","span","getElementsByClassName","warMessage","display","innerText","onclick","window","event","target","addEventListener"],"mappings":";AAoYC,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GAnYD,IAoNIA,EACFC,EACAC,EACAC,EACAC,EAGAC,EACEC,EACAC,EACAC,EA9NEC,EAAO,CACX,CACEC,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,iCAET,CACED,MAAO,EACPC,MAAO,8BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,iCAET,CACED,MAAO,EACPC,MAAO,8BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,iCAET,CACED,MAAO,EACPC,MAAO,8BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,iCAET,CACED,MAAO,EACPC,MAAO,8BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,iCAET,CACED,MAAO,EACPC,MAAO,8BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,iCAET,CACED,MAAO,EACPC,MAAO,8BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,iCAET,CACED,MAAO,EACPC,MAAO,8BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,EACPC,MAAO,iCAET,CACED,MAAO,EACPC,MAAO,8BAET,CACED,MAAO,EACPC,MAAO,+BAET,CACED,MAAO,GACPC,MAAO,gCAET,CACED,MAAO,GACPC,MAAO,kCAET,CACED,MAAO,GACPC,MAAO,+BAET,CACED,MAAO,GACPC,MAAO,gCAET,CACED,MAAO,GACPC,MAAO,kCAET,CACED,MAAO,GACPC,MAAO,oCAET,CACED,MAAO,GACPC,MAAO,iCAET,CACED,MAAO,GACPC,MAAO,kCAET,CACED,MAAO,GACPC,MAAO,mCAET,CACED,MAAO,GACPC,MAAO,qCAET,CACED,MAAO,GACPC,MAAO,kCAET,CACED,MAAO,GACPC,MAAO,mCAET,CACED,MAAO,GACPC,MAAO,kCAET,CACED,MAAO,GACPC,MAAO,oCAET,CACED,MAAO,GACPC,MAAO,iCAET,CACED,MAAO,GACPC,MAAO,kCAET,CACED,MAAO,GACPC,MAAO,iCAET,CACED,MAAO,GACPC,MAAO,mCAET,CACED,MAAO,GACPC,MAAO,gCAET,CACED,MAAO,GACPC,MAAO,kCAUTC,EAAY,EACZC,EAAS,EAKPC,EAAc,GACdC,EAAW,GACXC,EAAkB,GAClBC,EAAc,GACdC,EAAW,IAAIC,MAAM,sBAGnBC,EAASC,SAASC,cAAc,cAEhCC,EAAaF,SAASC,cAAc,kBAEpCE,EAAYH,SAASC,cAAc,iBAEnCG,EAASJ,SAASC,cAAc,eAEhCI,EAAaL,SAASC,cAAc,mBAEpCK,EAAYN,SAASC,cAAc,kBAEnCM,EAASP,SAASC,cAAc,SAEhCO,EAAOR,SAASC,cAAc,gBAE9BQ,EAAOT,SAASC,cAAc,aAE9BS,EAAYV,SAASW,iBAAiB,oBAQ5C,SAASC,IACPzB,EAAe,WACT0B,IAAAA,EAAeC,EAAAA,EAAa1B,IAClCK,EAAkBoB,EAAAA,EAASE,OAAO,EAAGC,KAAKC,KAAKJ,EAASK,OAAS,KACjExB,EAAemB,EAAAA,GACfM,IAGF,SAASC,IACPZ,EAAKa,IAAMpC,EAAMK,MACjBmB,EAAKY,IAAMnC,EAAMI,MACjBgC,EAAS,IAAKZ,GAGhB,SAASS,IACPjB,EAAWqB,UAA2B9B,eAAAA,OAAAA,EAAYyB,QAClDb,EAAWkB,UAA2B7B,eAAAA,OAAAA,EAASwB,QAC/Cf,EAAUoB,UAA0BhC,cAAAA,OAAAA,GACpCe,EAAUiB,UAA0B/B,cAAAA,OAAAA,GAGtC,SAASsB,EAAaD,GAChBW,IAAAA,EAAGC,EAAGC,EACLA,IAAAA,EAAIb,EAASK,OAAS,EAAGQ,EAAI,EAAGA,IACnCF,EAAIR,KAAKW,MAAMX,KAAKY,UAAYF,EAAI,IACpCD,EAAIZ,EAASa,GACbb,EAASa,GAAKb,EAASW,GACvBX,EAASW,GAAKC,EAETZ,OAAAA,EAGT,SAASgB,IAAO,IAAA,EAAA,KACdhC,EAASiC,OACJC,KAAAA,UAAW,EAChB9C,EAAQQ,EAAYuC,MACpB9C,EAAQQ,EAASsC,MACjBZ,IACAa,EAAYhD,EAAOC,GACnBgD,WAAW,WACT,EAAKH,UAAW,EAChBT,EAAS,EAAGZ,IACX,KAGL,SAASY,EAASa,EAAQC,GACnB,IAAA,IAAIV,EAAI,EAAGA,EAAIU,EAAMlB,OAAQQ,IAChCU,EAAMV,GAAGW,MAAMC,UAAuBH,WAAAA,OAAAA,EAAtC,QAIJ,SAASF,EAAYhD,EAAOC,GACtBD,EAAMI,MAAQH,EAAMG,MACtBkD,IACStD,EAAMI,MAAQH,EAAMG,MAC7BmD,IACSvD,EAAMI,QAAUH,EAAMG,OAC/B6C,WAAW,WAAMO,OAAAA,KAAU,KAI/B,SAASF,IAAW,IAAA,GAClB9C,EAAAA,GAAYiD,QACVzD,MAAAA,EAAAA,CAAAA,EACAC,GACGS,OAAAA,EAAAA,EAAgBoB,OAAO,IACvBnB,EAAAA,EAAYmB,OAAO,MAExBxB,GAAa,EACb6B,IACAD,IAGF,SAASqB,IAAY,IAAA,GACnB9C,EAAAA,GAASgD,QACPzD,MAAAA,EAAAA,CAAAA,EACAC,GACGS,OAAAA,EAAAA,EAAgBoB,OAAO,IACvBnB,EAAAA,EAAYmB,OAAO,MAExBvB,GAAU,EACV4B,IACAD,IAGF,SAASsB,IACPtD,EAAe,YACfwD,IACK,IAAA,IAAIjB,EAAI,EAAGA,EAAI,EAAGA,IACrB/B,EAAgBiD,KAAKnD,EAAYuC,OACjCpC,EAAYgD,KAAKlD,EAASsC,OAE5BE,WAAW,WAAMW,OAAAA,KAAgB,KACjCX,WAAW,WACTZ,EAAS,EAAGZ,IACX,KACHU,IACAa,EAAYhD,EAAOC,GAGrB,SAAS2D,IACP5D,EAAQQ,EAAYuC,MACpB9C,EAAQQ,EAASsC,MAGnB,SAASc,IACoB,KAAvBrD,EAAYyB,QACd/B,EAAe,oBACfwD,KAC6B,KAApBjD,EAASwB,SAClB/B,EAAe,iCACfwD,KAKJ,SAASA,IACHA,IAAAA,EAAQ3C,SAAS+C,eAAe,WAChCC,EAAOhD,SAASiD,uBAAuB,SAAS,GAC9CC,EAAalD,SAASC,cAAc,QAC1C0C,EAAMN,MAAMc,QAAU,QACtBD,EAAWE,UAAYjE,EACvB6D,EAAKK,QAAU,WACbV,EAAMN,MAAMc,QAAU,QAGxBG,OAAOD,QAAU,SAASE,GACpBA,EAAMC,QAAUb,IAClBA,EAAMN,MAAMc,QAAU,SArI5BnD,SAASC,cAAc,UAAUwD,iBAAiB,QAAS5B,GAG3DjB","file":"main.b757bf7f.js","sourceRoot":"..","sourcesContent":["/*--- constants ---*/\nconst deck = [\n  {\n    value: 2,\n    image: \"./assets/cards/Hearts/2.png\"\n  },\n  {\n    value: 2,\n    image: \"./assets/cards/Diamonds/2.png\"\n  },\n  {\n    value: 2,\n    image: \"./assets/cards/Clubs/2.png\"\n  },\n  {\n    value: 2,\n    image: \"./assets/cards/Spades/2.png\"\n  },\n  {\n    value: 3,\n    image: \"./assets/cards/Hearts/3.png\"\n  },\n  {\n    value: 3,\n    image: \"./assets/cards/Diamonds/3.png\"\n  },\n  {\n    value: 3,\n    image: \"./assets/cards/Clubs/3.png\"\n  },\n  {\n    value: 3,\n    image: \"./assets/cards/Spades/3.png\"\n  },\n  {\n    value: 4,\n    image: \"./assets/cards/Hearts/4.png\"\n  },\n  {\n    value: 4,\n    image: \"./assets/cards/Diamonds/4.png\"\n  },\n  {\n    value: 4,\n    image: \"./assets/cards/Clubs/4.png\"\n  },\n  {\n    value: 4,\n    image: \"./assets/cards/Spades/4.png\"\n  },\n  {\n    value: 5,\n    image: \"./assets/cards/Hearts/5.png\"\n  },\n  {\n    value: 5,\n    image: \"./assets/cards/Diamonds/5.png\"\n  },\n  {\n    value: 5,\n    image: \"./assets/cards/Clubs/5.png\"\n  },\n  {\n    value: 5,\n    image: \"./assets/cards/Spades/5.png\"\n  },\n  {\n    value: 6,\n    image: \"./assets/cards/Hearts/6.png\"\n  },\n  {\n    value: 6,\n    image: \"./assets/cards/Diamonds/6.png\"\n  },\n  {\n    value: 6,\n    image: \"./assets/cards/Clubs/6.png\"\n  },\n  {\n    value: 6,\n    image: \"./assets/cards/Spades/6.png\"\n  },\n  {\n    value: 7,\n    image: \"./assets/cards/Hearts/7.png\"\n  },\n  {\n    value: 7,\n    image: \"./assets/cards/Diamonds/7.png\"\n  },\n  {\n    value: 7,\n    image: \"./assets/cards/Clubs/7.png\"\n  },\n  {\n    value: 7,\n    image: \"./assets/cards/Spades/7.png\"\n  },\n  {\n    value: 8,\n    image: \"./assets/cards/Hearts/8.png\"\n  },\n  {\n    value: 8,\n    image: \"./assets/cards/Diamonds/8.png\"\n  },\n  {\n    value: 8,\n    image: \"./assets/cards/Clubs/8.png\"\n  },\n  {\n    value: 8,\n    image: \"./assets/cards/Spades/8.png\"\n  },\n  {\n    value: 9,\n    image: \"./assets/cards/Hearts/9.png\"\n  },\n  {\n    value: 9,\n    image: \"./assets/cards/Diamonds/9.png\"\n  },\n  {\n    value: 9,\n    image: \"./assets/cards/Clubs/9.png\"\n  },\n  {\n    value: 9,\n    image: \"./assets/cards/Spades/9.png\"\n  },\n  {\n    value: 10,\n    image: \"./assets/cards/Hearts/10.png\"\n  },\n  {\n    value: 10,\n    image: \"./assets/cards/Diamonds/10.png\"\n  },\n  {\n    value: 10,\n    image: \"./assets/cards/Clubs/10.png\"\n  },\n  {\n    value: 10,\n    image: \"./assets/cards/Spades/10.png\"\n  },\n  {\n    value: 11,\n    image: \"./assets/cards/Hearts/Jack.png\"\n  },\n  {\n    value: 11,\n    image: \"./assets/cards/Diamonds/Jack.png\"\n  },\n  {\n    value: 11,\n    image: \"./assets/cards/Clubs/Jack.png\"\n  },\n  {\n    value: 11,\n    image: \"./assets/cards/Spades/Jack.png\"\n  },\n  {\n    value: 12,\n    image: \"./assets/cards/Hearts/Queen.png\"\n  },\n  {\n    value: 12,\n    image: \"./assets/cards/Diamonds/Queen.png\"\n  },\n  {\n    value: 12,\n    image: \"./assets/cards/Clubs/Queen.png\"\n  },\n  {\n    value: 12,\n    image: \"./assets/cards/Spades/Queen.png\"\n  },\n  {\n    value: 13,\n    image: \"./assets/cards/Hearts/King.png\"\n  },\n  {\n    value: 13,\n    image: \"./assets/cards/Diamonds/King.png\"\n  },\n  {\n    value: 13,\n    image: \"./assets/cards/Clubs/King.png\"\n  },\n  {\n    value: 13,\n    image: \"./assets/cards/Spades/King.png\"\n  },\n  {\n    value: 14,\n    image: \"./assets/cards/Hearts/Ace.png\"\n  },\n  {\n    value: 14,\n    image: \"./assets/cards/Diamonds/Ace.png\"\n  },\n  {\n    value: 14,\n    image: \"./assets/cards/Clubs/Ace.png\"\n  },\n  {\n    value: 14,\n    image: \"./assets/cards/Spades/Ace.png\"\n  }\n];\n\n/*--- app's state (variables) ---*/\nlet playerResults,\n  cpuResults,\n  playerScore,\n  cpuScore,\n  currentPlayerCard,\n  playerWin = 0,\n  cpuWin = 0,\n  currentCpuCard;\nlet pCard;\nlet cCard;\nlet modalMessage;\nlet playerCards = [];\nlet cpuCards = [];\nlet playersWarCards = [];\nlet cpuWarCards = [];\nlet whipLash = new Audio(\"./assets/8whip.wav\");\n\n/*--- cached element references ---*/\nconst pScore = document.querySelector(\".leftScore\");\n\nconst pCardsLeft = document.querySelector(\".leftCardsLeft\");\n\nconst pTurnsWon = document.querySelector(\".leftTurnsWon\");\n\nconst cScore = document.querySelector(\".rightScore\");\n\nconst cCardsLeft = document.querySelector(\".rightCardsLeft\");\n\nconst cTurnsWon = document.querySelector(\".rightTurnsWon\");\n\nconst button = document.querySelector(\".draw\");\n\nconst pImg = document.querySelector(\".player-card\");\n\nconst cImg = document.querySelector(\".cpu-card\");\n\nconst flipCards = document.querySelectorAll(\".flip-card-inner\");\n\n/*--- event listeners ---*/\ndocument.querySelector(\"button\").addEventListener(\"click\", deal);\n\n/*--- functions ---*/\ninitialize();\n\nfunction initialize() {\n  modalMessage = \"It's War\";\n  const gameDeck = [...shuffleCards(deck)];\n  playerCards = [...gameDeck.splice(0, Math.ceil(gameDeck.length / 2))];\n  cpuCards = [...gameDeck];\n  keepScore();\n}\n\nfunction render() {\n  pImg.src = pCard.image;\n  cImg.src = cCard.image;\n  flipCard(180, flipCards);\n}\n\nfunction keepScore() {\n  pCardsLeft.innerHTML = `Cards Left: ${playerCards.length}`;\n  cCardsLeft.innerHTML = `Cards Left: ${cpuCards.length}`;\n  pTurnsWon.innerHTML = `Turns Won: ${playerWin}`;\n  cTurnsWon.innerHTML = `Turns Won: ${cpuWin}`;\n}\n\nfunction shuffleCards(gameDeck) {\n  var j, x, i;\n  for (i = gameDeck.length - 1; i > 0; i--) {\n    j = Math.floor(Math.random() * (i + 1));\n    x = gameDeck[i];\n    gameDeck[i] = gameDeck[j];\n    gameDeck[j] = x;\n  }\n  return gameDeck;\n}\n\nfunction deal() {\n  whipLash.play();\n  this.disabled = true;\n  pCard = playerCards.pop();\n  cCard = cpuCards.pop();\n  render();\n  checkForWin(pCard, cCard);\n  setTimeout(() => {\n    this.disabled = false;\n    flipCard(0, flipCards);\n  }, 1000);\n}\n\nfunction flipCard(degNum, cards) {\n  for (let i = 0; i < cards.length; i++) {\n    cards[i].style.transform = `rotateY(${degNum}deg)`;\n  }\n}\n\nfunction checkForWin(pCard, cCard) {\n  if (pCard.value > cCard.value) {\n    winRound();\n  } else if (pCard.value < cCard.value) {\n    loseRound();\n  } else if (pCard.value === cCard.value) {\n    setTimeout(() => tieWar(), 1000);\n  }\n}\n\nfunction winRound() {\n  playerCards.unshift(\n    pCard,\n    cCard,\n    ...playersWarCards.splice(0),\n    ...cpuWarCards.splice(0)\n  );\n  playerWin += 1;\n  render();\n  keepScore();\n}\n\nfunction loseRound() {\n  cpuCards.unshift(\n    pCard,\n    cCard,\n    ...playersWarCards.splice(0),\n    ...cpuWarCards.splice(0)\n  );\n  cpuWin += 1;\n  render();\n  keepScore();\n}\n\nfunction tieWar() {\n  modalMessage = \"It's War!\";\n  modal();\n  for (let i = 0; i < 3; i++) {\n    playersWarCards.push(playerCards.pop());\n    cpuWarCards.push(cpuCards.pop());\n  }\n  setTimeout(() => tieCardsFlip(), 2000);\n  setTimeout(() => {\n    flipCard(0, flipCards);\n  }, 2000);\n  render();\n  checkForWin(pCard, cCard);\n}\n\nfunction tieCardsFlip() {\n  pCard = playerCards.pop();\n  cCard = cpuCards.pop();\n}\n\nfunction gameWon() {\n  if (playerCards.length === 52) {\n    modalMessage = \"Yee Haw! You won!\";\n    modal();\n  } else if (cpuCards.length === 52) {\n    modalMessage = \"Better luck next time, cowboy!\";\n    modal();\n  }\n}\n\n//------MODAL------\nfunction modal() {\n  var modal = document.getElementById(\"myModal\");\n  var span = document.getElementsByClassName(\"close\")[0];\n  const warMessage = document.querySelector(\".war\");\n  modal.style.display = \"block\";\n  warMessage.innerText = modalMessage;\n  span.onclick = function() {\n    modal.style.display = \"none\";\n  };\n\n  window.onclick = function(event) {\n    if (event.target == modal) {\n      modal.style.display = \"none\";\n    }\n  };\n}\n"]}